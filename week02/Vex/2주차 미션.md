### 1️⃣ 미션 1
 
```
SELECT
    um.id AS user_mission_id,
    m.id AS mission_id,
    m.name AS mission_description,
    m.reward_points,
    um.status AS user_mission_status, -- '진행중', '완료' 등
    m.required_amount,
    m.type
FROM
    user_missions um
JOIN
    missions m ON um.mission_id = m.id
WHERE
    um.user_id = 1 -- 현재 로그인한 사용자의 ID로 변경 (예: 1)
ORDER BY
    CASE um.status
        WHEN '진행중' THEN 1
        WHEN '완료' THEN 2
        ELSE 3
    END,
    um.completed_at DESC, -- 완료된 미션은 최신 순으로
    um.id DESC             -- 진행중인 미션은 최신 생성 순으로
LIMIT 10 OFFSET 0;
```

### 2️⃣ 미션 2

- 댓글이라는 요소가 추가! → 테이블 추가

```
SELECT
    r.id AS review_id,
    u.nickname AS reviewer_nickname,
    r.rating,
    r.content AS review_content,
    r.created_at AS review_date,
    rc.id AS comment_id,             -- 답글 ID (답글이 없을 경우 NULL)
    rc.content AS comment_content,    -- 답글 내용 (답글이 없을 경우 NULL)
    rc.created_at AS comment_date,    -- 답글 작성일 (답글이 없을 경우 NULL)
    cu.nickname AS commenter_nickname -- 답글 작성자 닉네임 (점주/관리자, 답글이 없을 경우 NULL)
FROM
    review r
JOIN
    users u ON r.user_id = u.id
LEFT JOIN -- 답글이 없을 수도 있으므로 LEFT JOIN 사용
    review_comments rc ON r.id = rc.review_id
LEFT JOIN -- 답글 작성자 정보도 필요
    users cu ON rc.user_id = cu.id
WHERE
    r.store_id = 101 -- 관리 중인 특정 점포의 ID로 변경 (예: 101)
ORDER BY
    r.created_at DESC -- 최신 리뷰가 먼저 오도록 정렬
LIMIT 10 OFFSET 0;
```

### 3️⃣ 미션 3

```
SELECT
    m.id AS mission_id,
    m.name AS mission_title,             -- '반이학생마라탕'
    m.store_name,                        -- '중식당'
    m.description,                       -- '10,000원 이상의 식사시'
FROM
    missions m
LEFT JOIN
    user_mission um ON m.id = um.mission_id AND um.user_id = 1 -- 현재 사용자 ID (예: 1)
WHERE
    m.status = 'active' -- 미션이 활성화 상태여야 함
    AND m.region_id = (SELECT current_region_id FROM users WHERE id = 1) -- 현재 사용자의 선택 지역과 일치
    AND (um.mission_id IS NULL OR um.status = 'failed') -- 사용자가 아직 시도하지 않았거나 실패한 미션
ORDER BY
    m.id DESC            -- 최신 미션 순으로
LIMIT 10 OFFSET 0;
```

### 4️⃣ 미션 4

```
SELECT
    u.nickname,
    u.email,
    u.phone_number,
    u.points,
FROM
    users u
WHERE
    u.id = 1; -- 현재 로그인한 사용자의 ID로 변경 (예: 1)
```